{% extends "base/base.html" %}
{% load static %}

{% block title %}Establecer Contraseña{% endblock %}

{% block contenido %}
<div class="container" style="padding-top: 100px; min-height: 80vh;">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg" style="background-color: #1a222a; color: #f1f1f1; border: none;">
                <div class="card-body p-5">
                    {% if validlink %}
                        <h2 class="card-title text-center mb-4">Establecer Nueva Contraseña</h2>
                        <p>Hola {{ user.username }}. Por favor, ingresa tu nueva contraseña dos veces.</p>
                        
                        <form method="POST">
                            {% csrf_token %}
                            {{ form.as_p }} {# Django renderizará los campos de contraseña aquí #}
                            <button type="submit" class="btn btn-primary w-100 mt-3">Guardar Contraseña</button>
                        </form>
                    {% else %}
                        <h2 class="card-title text-center mb-4 text-danger">Enlace Inválido</h2>
                        <p>Este enlace para restablecer la contraseña ya ha sido usado o ha expirado. Por favor, contacta a tu empresa administradora.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}